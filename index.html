<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>O BLOCK E FOOTBALL | Season 2026</title>
<link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Bebas+Neue&family=Barlow+Condensed:wght@400;600;700&family=Barlow:wght@300;400;500&display=swap" rel="stylesheet">
<style>
:root {
  --green:#00ff87; --gold:#ffd700; --red:#ff2d55; --orange:#ff7a20;
  --dark:#050a0e; --dark2:#0a1520; --dark3:#0f1f2e;
  --text:#e8f4f8; --muted:#5a7a8a;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Barlow',sans-serif;background:var(--dark);color:var(--text);overflow:hidden;height:100vh;width:100vw;}

/* ‚îÄ‚îÄ PAGES ‚îÄ‚îÄ */
.page{position:fixed;inset:0;display:none;flex-direction:column;opacity:0;transition:opacity .6s ease,transform .6s ease;transform:translateY(16px);}
.page.active{display:flex;opacity:1;transform:translateY(0);}
.page.exit{opacity:0;transform:translateY(-16px);pointer-events:none;}

/* ‚îÄ‚îÄ LANDING ‚îÄ‚îÄ */
#page-landing{align-items:center;justify-content:center;background:var(--dark);overflow:hidden;}
.field-bg{position:absolute;inset:0;background:radial-gradient(ellipse 80% 60% at 50% 100%,rgba(0,255,135,.07) 0%,transparent 70%);}
.field-lines{position:absolute;inset:0;opacity:.03;background-image:repeating-linear-gradient(90deg,#00ff87 0,#00ff87 1px,transparent 1px,transparent 80px),repeating-linear-gradient(0deg,#00ff87 0,#00ff87 1px,transparent 1px,transparent 80px);}
.spotlight{position:absolute;top:-20%;left:50%;transform:translateX(-50%);width:600px;height:600px;background:radial-gradient(ellipse,rgba(0,255,135,.12) 0%,transparent 70%);animation:pulseLight 4s ease-in-out infinite;}
@keyframes pulseLight{0%,100%{opacity:.6;transform:translateX(-50%) scale(1)}50%{opacity:1;transform:translateX(-50%) scale(1.1)}}
.particles{position:absolute;inset:0;overflow:hidden;pointer-events:none;}
.particle{position:absolute;width:2px;height:2px;background:var(--green);border-radius:50%;animation:floatUp linear infinite;opacity:0;}
@keyframes floatUp{0%{transform:translateY(100vh);opacity:0}10%{opacity:.6}90%{opacity:.3}100%{transform:translateY(-10vh);opacity:0}}
.corner{position:absolute;width:60px;height:60px;border-color:rgba(0,255,135,.25);border-style:solid;}
.c-tl{top:24px;left:24px;border-width:2px 0 0 2px}.c-tr{top:24px;right:24px;border-width:2px 2px 0 0}
.c-bl{bottom:24px;left:24px;border-width:0 0 2px 2px}.c-br{bottom:24px;right:24px;border-width:0 2px 2px 0}
.live-badge{display:flex;align-items:center;gap:8px;background:rgba(255,45,85,.15);border:1px solid rgba(255,45,85,.4);padding:6px 16px;border-radius:100px;font-family:'Barlow Condensed',sans-serif;font-size:14px;letter-spacing:2px;color:#ff6b8a;margin-bottom:28px;position:relative;animation:fadeUp 1s ease .2s both;}
.live-dot{width:8px;height:8px;background:var(--red);border-radius:50%;animation:blink 1.2s ease-in-out infinite;box-shadow:0 0 8px var(--red);}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.2}}
.hero-eyebrow{font-family:'Barlow Condensed',sans-serif;font-size:16px;letter-spacing:6px;color:var(--green);text-transform:uppercase;margin-bottom:10px;position:relative;animation:fadeUp 1s ease .4s both;}
.hero-title{font-family:'Permanent Marker',cursive;font-size:clamp(52px,10vw,110px);line-height:.95;text-align:center;letter-spacing:3px;position:relative;animation:fadeUp 1s ease .5s both;}
.hero-title .t1{display:block;color:var(--text)}.hero-title .t2{display:block;color:var(--green);text-shadow:0 0 60px rgba(0,255,135,.4)}
.hero-tagline{font-family:'Barlow Condensed',sans-serif;font-size:clamp(14px,2.5vw,20px);letter-spacing:5px;color:var(--muted);text-transform:uppercase;margin-top:18px;margin-bottom:40px;position:relative;animation:fadeUp 1s ease .7s both;}
.hero-stats{display:flex;gap:40px;margin-bottom:48px;position:relative;animation:fadeUp 1s ease .9s both;}
.hero-stat{text-align:center}
.h-num{font-family:'Bebas Neue',sans-serif;font-size:40px;color:var(--gold);line-height:1}
.h-lbl{font-family:'Barlow Condensed',sans-serif;font-size:13px;letter-spacing:2px;color:var(--muted);text-transform:uppercase;margin-top:4px}
.stat-div{width:1px;background:rgba(255,255,255,.1);align-self:stretch}
.enter-btn{position:relative;font-family:'Bebas Neue',sans-serif;font-size:24px;letter-spacing:4px;color:var(--dark);background:var(--green);border:none;padding:18px 64px;cursor:pointer;clip-path:polygon(12px 0%,100% 0%,calc(100% - 12px) 100%,0% 100%);transition:all .3s ease;animation:fadeUp 1s ease 1.1s both;overflow:hidden;}
.enter-btn::before{content:'';position:absolute;inset:0;background:rgba(255,255,255,.2);transform:translateX(-100%);transition:transform .4s ease}
.enter-btn:hover::before{transform:translateX(0)}.enter-btn:hover{transform:translateY(-3px);box-shadow:0 10px 40px rgba(0,255,135,.4)}
@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

/* ‚îÄ‚îÄ NAVBAR ‚îÄ‚îÄ */
.navbar{display:flex;align-items:center;justify-content:space-between;padding:0 20px;height:54px;background:rgba(3,2,1,.97);border-bottom:1px solid rgba(255,80,20,.12);flex-shrink:0;position:relative;z-index:10;}
.nav-logo{font-family:'Permanent Marker',cursive;font-size:17px;letter-spacing:1px;color:var(--green);cursor:pointer;}
.nav-logo span{color:var(--text)}
.nav-tabs{display:flex;gap:3px;}
.nav-tab{font-family:'Barlow Condensed',sans-serif;font-size:12px;letter-spacing:1px;padding:5px 12px;background:transparent;border:1px solid rgba(0,255,135,.15);color:var(--muted);cursor:pointer;text-transform:uppercase;transition:all .2s;}
.nav-tab:hover,.nav-tab.on{border-color:var(--green);color:var(--green);background:rgba(0,255,135,.06)}
.nav-live{display:flex;align-items:center;gap:6px;font-family:'Barlow Condensed',sans-serif;font-size:12px;letter-spacing:2px;color:var(--red);}

/* ‚îÄ‚îÄ ARENA TABS ‚îÄ‚îÄ */
.arena-tabs{display:flex;gap:0;border-bottom:1px solid rgba(255,255,255,.06);flex-shrink:0;background:rgba(3,2,1,.9);position:relative;z-index:5;}
.atab{font-family:'Barlow Condensed',sans-serif;font-size:13px;letter-spacing:2px;padding:10px 18px;background:transparent;border:none;border-bottom:2px solid transparent;color:var(--muted);cursor:pointer;text-transform:uppercase;transition:all .2s;}
.atab:hover,.atab.on{color:var(--green);border-bottom-color:var(--green);}

/* ‚îÄ‚îÄ STATS BAR ‚îÄ‚îÄ */
.stats-bar{display:grid;grid-template-columns:repeat(6,1fr);gap:1px;background:rgba(255,80,20,.08);border-bottom:1px solid rgba(255,80,20,.15);flex-shrink:0;position:relative;z-index:5;}
.sbar-item{padding:7px 14px;background:rgba(5,3,1,.9);}
.sbar-num{font-family:'Bebas Neue',sans-serif;font-size:28px;color:var(--orange);line-height:1;text-shadow:0 0 12px rgba(255,100,20,.4)}
.sbar-lbl{font-family:'Barlow Condensed',sans-serif;font-size:12px;letter-spacing:2px;color:var(--muted);text-transform:uppercase}

/* ‚îÄ‚îÄ PANELS ‚îÄ‚îÄ */
.tab-content{flex:1;overflow:hidden;display:none;position:relative;z-index:1;}
.tab-content.on{display:flex;}
.apanel{padding:16px 20px;border-right:1px solid rgba(255,120,40,.08);display:flex;flex-direction:column;overflow:hidden;background:rgba(2,4,8,.65);backdrop-filter:blur(12px);}
.ptitle{font-family:'Bebas Neue',sans-serif;font-size:22px;letter-spacing:2px;color:var(--text);margin-bottom:3px;display:flex;align-items:center;gap:8px;flex-shrink:0;}
.psub{font-family:'Barlow Condensed',sans-serif;font-size:12px;letter-spacing:2px;color:var(--muted);text-transform:uppercase;margin-bottom:12px;flex-shrink:0;}
.scroll-wrap{flex:1;overflow-y:auto;scrollbar-width:thin;scrollbar-color:rgba(0,255,135,.2) transparent;}
.badge{font-family:'Barlow Condensed',sans-serif;font-size:11px;letter-spacing:2px;padding:2px 8px;border-radius:100px;text-transform:uppercase;}
.b-red{background:rgba(255,45,85,.15);border:1px solid rgba(255,45,85,.3);color:var(--red)}
.b-grn{background:rgba(0,255,135,.1);border:1px solid rgba(0,255,135,.2);color:var(--green)}
.b-gold{background:rgba(255,215,0,.1);border:1px solid rgba(255,215,0,.3);color:var(--gold)}
.b-org{background:rgba(255,120,20,.1);border:1px solid rgba(255,120,20,.3);color:var(--orange)}

/* ‚îÄ‚îÄ LEADERBOARD ‚îÄ‚îÄ */
.lb-table{width:100%;border-collapse:collapse;}
.lb-table th{font-family:'Barlow Condensed',sans-serif;font-size:12px;letter-spacing:2px;color:var(--muted);text-transform:uppercase;padding:6px 9px;border-bottom:1px solid rgba(255,255,255,.05);text-align:left;position:sticky;top:0;background:rgba(2,4,8,.95);}
.lb-table th:not(:first-child):not(:nth-child(2)){text-align:center}
.lb-table td{padding:11px 9px;border-bottom:1px solid rgba(255,255,255,.03);font-size:15px;transition:background .15s;}
.lb-table td:not(:first-child):not(:nth-child(2)){text-align:center}
.lb-table tr:hover td{background:rgba(255,80,20,.05)}
.rnk{font-family:'Bebas Neue',sans-serif;font-size:20px;color:var(--muted);width:28px;}
.rnk.g{color:var(--gold)}.rnk.s{color:#c0c0c0}.rnk.b{color:#cd7f32}
.pname-cell{font-weight:500;font-size:15px;}
.gcell{font-family:'Bebas Neue',sans-serif;font-size:20px;color:var(--green);}
.pcell{font-family:'Bebas Neue',sans-serif;font-size:20px;color:var(--gold);}
.empty{text-align:center;padding:36px 16px;font-family:'Barlow Condensed',sans-serif;font-size:14px;letter-spacing:2px;color:var(--muted);text-transform:uppercase;}

/* form guide dots */
.form-dots{display:flex;gap:3px;justify-content:center;}
.fdot{width:14px;height:14px;border-radius:50%;font-family:'Barlow Condensed',sans-serif;font-size:9px;display:flex;align-items:center;justify-content:center;font-weight:700;}
.fdot.W{background:#00ff87;color:#000}
.fdot.D{background:#ffd700;color:#000}
.fdot.L{background:#ff2d55;color:#fff}

/* GD arrows */
.gd-arrow{font-size:12px;margin-left:3px;}
.gd-up{color:var(--green)}.gd-dn{color:var(--red)}.gd-eq{color:var(--muted)}

/* cards */
.card-cell{display:flex;gap:3px;justify-content:center;align-items:center;}
.ycard{background:#ffd700;width:10px;height:14px;border-radius:1px;display:inline-block;}
.rcard{background:#ff2d55;width:10px;height:14px;border-radius:1px;display:inline-block;}

/* ‚îÄ‚îÄ MATCH ITEMS ‚îÄ‚îÄ */
.match-item{padding:10px 14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.05);margin-bottom:5px;transition:background .15s;}
.match-item:hover{background:rgba(255,80,20,.05)}
.match-row{display:flex;align-items:center;justify-content:space-between;}
.mscore{font-family:'Bebas Neue',sans-serif;font-size:22px;color:var(--green);letter-spacing:2px;text-align:center;min-width:50px;}
.mplayer{font-size:14px;flex:1;}
.mplayer.r{text-align:right}
.match-meta{font-family:'Barlow Condensed',sans-serif;font-size:11px;color:var(--muted);letter-spacing:1px;margin-top:4px;display:flex;gap:12px;}
.motw-badge{background:rgba(255,215,0,.15);border:1px solid rgba(255,215,0,.4);color:var(--gold);font-family:'Barlow Condensed',sans-serif;font-size:10px;letter-spacing:2px;padding:2px 8px;border-radius:100px;text-transform:uppercase;}
.share-btn{background:transparent;border:1px solid rgba(0,255,135,.2);color:var(--green);font-family:'Barlow Condensed',sans-serif;font-size:11px;letter-spacing:1px;padding:3px 10px;cursor:pointer;transition:all .2s;}
.share-btn:hover{background:rgba(0,255,135,.1)}

/* ‚îÄ‚îÄ MATCH OF THE WEEK ‚îÄ‚îÄ */
.motw-card{background:linear-gradient(135deg,rgba(255,215,0,.08) 0%,rgba(255,120,20,.06) 100%);border:1px solid rgba(255,215,0,.25);padding:20px;margin-bottom:16px;}
.motw-title{font-family:'Bebas Neue',sans-serif;font-size:14px;letter-spacing:3px;color:var(--gold);margin-bottom:12px;}
.motw-score-row{display:flex;align-items:center;justify-content:center;gap:20px;margin-bottom:8px;}
.motw-player{font-family:'Bebas Neue',sans-serif;font-size:20px;color:var(--text);text-align:center;flex:1;}
.motw-score{font-family:'Bebas Neue',sans-serif;font-size:48px;color:var(--gold);letter-spacing:4px;text-shadow:0 0 30px rgba(255,215,0,.4);}
.motw-desc{font-size:13px;color:var(--muted);text-align:center;font-style:italic;}

/* ‚îÄ‚îÄ FIXTURES ‚îÄ‚îÄ */
.fixture-item{padding:10px 14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.04);margin-bottom:5px;display:flex;align-items:center;justify-content:space-between;}
.fixture-vs{font-family:'Barlow Condensed',sans-serif;font-size:12px;letter-spacing:2px;color:var(--muted);text-transform:uppercase;}
.fixture-time{font-family:'Bebas Neue',sans-serif;font-size:18px;color:var(--orange);}
.fixture-date{font-family:'Barlow Condensed',sans-serif;font-size:11px;color:var(--muted);letter-spacing:1px;}

/* ‚îÄ‚îÄ TOP SCORERS ‚îÄ‚îÄ */
.scorer-item{display:flex;align-items:center;gap:12px;padding:10px 14px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.04);margin-bottom:5px;}
.scorer-rank{font-family:'Bebas Neue',sans-serif;font-size:28px;color:var(--muted);width:32px;text-align:center;}
.scorer-rank.g{color:var(--gold)}.scorer-rank.s{color:#c0c0c0}.scorer-rank.b{color:#cd7f32}
.scorer-info{flex:1;}
.scorer-name{font-size:15px;font-weight:500;}
.scorer-pos{font-family:'Barlow Condensed',sans-serif;font-size:11px;color:var(--muted);letter-spacing:1px;text-transform:uppercase;}
.scorer-bar-wrap{flex:2;height:8px;background:rgba(255,255,255,.06);border-radius:4px;overflow:hidden;}
.scorer-bar{height:100%;background:linear-gradient(90deg,var(--gold),var(--orange));border-radius:4px;transition:width .5s ease;}
.scorer-goals{font-family:'Bebas Neue',sans-serif;font-size:28px;color:var(--gold);min-width:36px;text-align:right;}
.boot-icon{font-size:18px;}

/* ‚îÄ‚îÄ PLAYER PROFILES ‚îÄ‚îÄ */
.profile-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px;padding:4px;}
.profile-card{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.07);padding:16px;text-align:center;transition:all .2s;cursor:pointer;}
.profile-card:hover{border-color:rgba(0,255,135,.3);background:rgba(0,255,135,.04);}
.profile-avatar{width:60px;height:60px;border-radius:50%;margin:0 auto 10px;background:rgba(0,255,135,.1);border:2px solid rgba(0,255,135,.2);display:flex;align-items:center;justify-content:center;font-size:24px;overflow:hidden;}
.profile-avatar img{width:100%;height:100%;object-fit:cover;}
.profile-name{font-family:'Bebas Neue',sans-serif;font-size:16px;letter-spacing:1px;color:var(--text);margin-bottom:3px;}
.profile-pos{font-family:'Barlow Condensed',sans-serif;font-size:11px;letter-spacing:2px;color:var(--green);text-transform:uppercase;margin-bottom:8px;}
.profile-stats{display:grid;grid-template-columns:1fr 1fr;gap:4px;}
.ps-item{background:rgba(255,255,255,.04);padding:4px 6px;}
.ps-num{font-family:'Bebas Neue',sans-serif;font-size:18px;color:var(--gold);}
.ps-lbl{font-family:'Barlow Condensed',sans-serif;font-size:9px;color:var(--muted);letter-spacing:1px;text-transform:uppercase;}

/* ‚îÄ‚îÄ RIGHT PANEL ‚îÄ‚îÄ */
.reg-panel{background:rgba(8,4,1,.8);backdrop-filter:blur(16px);border-left:1px solid rgba(255,100,30,.08);display:flex;flex-direction:column;overflow:hidden;width:280px;flex-shrink:0;}
.reg-top{padding:16px;border-bottom:1px solid rgba(255,255,255,.05);flex-shrink:0;}
.form-label{font-family:'Barlow Condensed',sans-serif;font-size:12px;letter-spacing:2px;color:var(--muted);text-transform:uppercase;display:block;margin-bottom:5px;}
.form-input{width:100%;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.1);color:var(--text);font-family:'Barlow',sans-serif;font-size:15px;padding:9px 12px;outline:none;transition:border-color .2s;margin-bottom:8px;}
.form-input:focus{border-color:rgba(0,255,135,.4)}
.form-select{width:100%;background:rgba(10,21,32,.9);border:1px solid rgba(255,255,255,.1);color:var(--text);font-family:'Barlow',sans-serif;font-size:14px;padding:9px 12px;outline:none;transition:border-color .2s;margin-bottom:8px;}
.form-select option{background:#0a1520}
.btn-grn{width:100%;font-family:'Bebas Neue',sans-serif;font-size:17px;letter-spacing:3px;padding:11px;background:var(--green);color:var(--dark);border:none;cursor:pointer;clip-path:polygon(7px 0%,100% 0%,calc(100% - 7px) 100%,0% 100%);transition:all .2s;}
.btn-grn:hover{background:#00e878;transform:translateY(-1px)}
.plist-wrap{flex:1;overflow-y:auto;padding:10px;scrollbar-width:thin;scrollbar-color:rgba(0,255,135,.2) transparent;}
.pitem{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.04);margin-bottom:4px;}
.pitem-name{font-size:14px;font-weight:500;}
.pitem-stats{font-family:'Barlow Condensed',sans-serif;font-size:12px;color:var(--muted);letter-spacing:1px;}

/* ‚îÄ‚îÄ TICKER ‚îÄ‚îÄ */
.ticker{background:rgba(255,70,10,.05);border-top:1px solid rgba(255,80,20,.1);padding:7px 0;overflow:hidden;white-space:nowrap;flex-shrink:0;position:relative;z-index:5;}
.ticker-inner{display:inline-block;animation:tickerMove 40s linear infinite;font-family:'Barlow Condensed',sans-serif;font-size:13px;letter-spacing:2px;color:var(--orange);text-transform:uppercase;}
@keyframes tickerMove{from{transform:translateX(100vw)}to{transform:translateX(-100%)}}

/* ‚îÄ‚îÄ ADMIN PAGE ‚îÄ‚îÄ */
#page-admin{background:var(--dark);}
.admin-grid{flex:1;display:grid;grid-template-columns:1fr 1fr;overflow:hidden;}
.admin-left{padding:24px;display:flex;flex-direction:column;overflow:hidden;border-right:1px solid rgba(255,255,255,.05);}
.admin-right{background:var(--dark2);padding:24px;display:flex;flex-direction:column;overflow:hidden;}
.login-wrap{flex:1;display:flex;align-items:center;justify-content:center;}
.login-card{background:var(--dark2);border:1px solid rgba(0,255,135,.12);padding:40px;width:100%;max-width:380px;}
.ltitle{font-family:'Bebas Neue',sans-serif;font-size:30px;letter-spacing:2px;margin-bottom:4px;}
.lsub{font-family:'Barlow Condensed',sans-serif;font-size:12px;letter-spacing:2px;color:var(--muted);text-transform:uppercase;margin-bottom:26px;}
.inp-wrap{position:relative;margin-bottom:12px;}
.inp-wrap .form-input{margin-bottom:0;padding-right:40px;}
.tog-pass{position:absolute;right:10px;top:50%;transform:translateY(-50%);background:none;border:none;color:var(--muted);cursor:pointer;font-size:14px;}
.admin-active-view{display:none;flex-direction:column;height:100%;overflow:hidden;}
.admin-topbar{display:flex;align-items:center;justify-content:space-between;padding-bottom:12px;margin-bottom:16px;border-bottom:1px solid rgba(0,255,135,.1);flex-shrink:0;}
.admin-who{display:flex;align-items:center;gap:8px;font-family:'Barlow Condensed',sans-serif;font-size:13px;letter-spacing:2px;color:var(--green);text-transform:uppercase;}
.btn-logout{font-family:'Barlow Condensed',sans-serif;font-size:11px;letter-spacing:2px;padding:6px 14px;background:transparent;border:1px solid rgba(255,45,85,.3);color:var(--red);cursor:pointer;text-transform:uppercase;transition:all .2s;}
.btn-logout:hover{background:rgba(255,45,85,.1)}
.admin-scroll{flex:1;overflow-y:auto;scrollbar-width:thin;scrollbar-color:rgba(0,255,135,.2) transparent;}

/* admin section tabs */
.admin-tabs{display:flex;gap:0;margin-bottom:16px;flex-shrink:0;}
.admin-tab{font-family:'Barlow Condensed',sans-serif;font-size:12px;letter-spacing:1px;padding:7px 14px;background:transparent;border:1px solid rgba(255,255,255,.08);color:var(--muted);cursor:pointer;text-transform:uppercase;transition:all .2s;border-right:none;}
.admin-tab:last-child{border-right:1px solid rgba(255,255,255,.08);}
.admin-tab:hover,.admin-tab.on{color:var(--green);border-color:rgba(0,255,135,.3);background:rgba(0,255,135,.06);}
.admin-section{display:none;flex-direction:column;}.admin-section.on{display:flex;}

/* match form */
.vs-row{display:grid;grid-template-columns:1fr auto 1fr;gap:12px;align-items:end;margin-bottom:12px;}
.vs-txt{font-family:'Bebas Neue',sans-serif;font-size:24px;color:var(--muted);text-align:center;padding-bottom:8px;}
.score-row{display:grid;grid-template-columns:1fr auto 1fr;gap:10px;align-items:center;margin-bottom:10px;}
.score-inp{font-family:'Bebas Neue',sans-serif;font-size:40px;text-align:center;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.1);color:var(--green);padding:10px;outline:none;width:100%;}
.scolon{font-family:'Bebas Neue',sans-serif;font-size:40px;color:var(--muted);text-align:center;}
.cards-row{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:12px;}
.card-input-label{font-family:'Barlow Condensed',sans-serif;font-size:11px;letter-spacing:1px;color:var(--muted);text-transform:uppercase;margin-bottom:4px;display:flex;align-items:center;gap:5px;}
.del-btn{font-family:'Barlow Condensed',sans-serif;font-size:11px;letter-spacing:1px;padding:4px 10px;background:transparent;border:1px solid rgba(255,45,85,.3);color:var(--red);cursor:pointer;transition:all .2s;}
.del-btn:hover{background:rgba(255,45,85,.15)}
.btn-outline{width:100%;font-family:'Bebas Neue',sans-serif;font-size:16px;letter-spacing:3px;padding:10px;background:transparent;border:1px solid rgba(0,255,135,.3);color:var(--green);cursor:pointer;transition:all .2s;margin-top:6px;}
.btn-outline:hover{background:rgba(0,255,135,.08)}
.sep{height:1px;background:rgba(255,255,255,.06);margin:14px 0;flex-shrink:0;}

/* ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ */
.modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.85);z-index:999;align-items:center;justify-content:center;backdrop-filter:blur(4px);}
.modal-overlay.open{display:flex;animation:mfade .2s ease}
@keyframes mfade{from{opacity:0}to{opacity:1}}
.modal{background:var(--dark2);border:1px solid rgba(255,45,85,.2);padding:36px;width:90%;max-width:380px;animation:mslide .3s ease}
@keyframes mslide{from{opacity:0;transform:scale(.96) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}
.modal-title{font-family:'Bebas Neue',sans-serif;font-size:26px;letter-spacing:2px;color:var(--red);margin-bottom:8px;}
.modal-desc{font-size:13px;color:var(--muted);margin-bottom:24px;}
.modal-acts{display:flex;gap:10px;}
.btn-cancel{flex:1;font-family:'Barlow Condensed',sans-serif;font-size:13px;letter-spacing:2px;padding:11px;background:transparent;border:1px solid rgba(255,255,255,.1);color:var(--muted);cursor:pointer;text-transform:uppercase;}
.btn-del{flex:1;font-family:'Barlow Condensed',sans-serif;font-size:13px;letter-spacing:2px;padding:11px;background:var(--red);border:none;color:white;cursor:pointer;text-transform:uppercase;}

/* player profile modal */
.profile-modal{max-width:440px;border-color:rgba(0,255,135,.2);}
.profile-modal-header{display:flex;align-items:center;gap:16px;margin-bottom:20px;}
.profile-modal-avatar{width:70px;height:70px;border-radius:50%;background:rgba(0,255,135,.1);border:2px solid rgba(0,255,135,.3);display:flex;align-items:center;justify-content:center;font-size:28px;overflow:hidden;flex-shrink:0;}
.profile-modal-avatar img{width:100%;height:100%;object-fit:cover;}
.profile-modal-name{font-family:'Bebas Neue',sans-serif;font-size:28px;letter-spacing:2px;}
.profile-modal-pos{font-family:'Barlow Condensed',sans-serif;font-size:13px;letter-spacing:2px;color:var(--green);text-transform:uppercase;}
.profile-stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-bottom:16px;}
.psg-item{background:rgba(255,255,255,.04);padding:10px;text-align:center;}
.psg-num{font-family:'Bebas Neue',sans-serif;font-size:24px;color:var(--gold);}
.psg-lbl{font-family:'Barlow Condensed',sans-serif;font-size:10px;color:var(--muted);letter-spacing:1px;text-transform:uppercase;}

/* ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ */
.toast{position:fixed;bottom:28px;right:28px;background:var(--dark3);border:1px solid rgba(0,255,135,.3);padding:12px 18px;font-family:'Barlow Condensed',sans-serif;font-size:14px;letter-spacing:1px;color:var(--green);z-index:9999;transform:translateX(120%);transition:transform .4s ease;}
.toast.show{transform:translateX(0)}.toast.err{border-color:rgba(255,45,85,.3);color:var(--red)}

/* space bg for arena */
#page-arena{background:#020408;position:relative;}
</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAGE 1: LANDING ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page active" id="page-landing">
  <div class="field-bg"></div><div class="field-lines"></div><div class="spotlight"></div>
  <div class="particles" id="particles"></div>
  <div class="corner c-tl"></div><div class="corner c-tr"></div>
  <div class="corner c-bl"></div><div class="corner c-br"></div>
  <div class="live-badge"><div class="live-dot"></div> SEASON 2026 ¬∑ LIVE NOW</div>
  <p class="hero-eyebrow">‚öΩ Real-Time Esports Arena</p>
  <h1 class="hero-title"><span class="t1">O BLOCK</span><span class="t2">FOOTBALL</span></h1>
  <p class="hero-tagline">Compete ¬∑ Dominate ¬∑ Conquer</p>
  <div class="hero-stats">
    <div class="hero-stat"><div class="h-num" id="l-p">0</div><div class="h-lbl">Players</div></div>
    <div class="stat-div"></div>
    <div class="hero-stat"><div class="h-num" id="l-m">0</div><div class="h-lbl">Matches</div></div>
    <div class="stat-div"></div>
    <div class="hero-stat"><div class="h-num" id="l-g">0</div><div class="h-lbl">Goals</div></div>
  </div>
  <button class="enter-btn" onclick="goTo('arena')">‚ö° ENTER ARENA</button>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAGE 2: ARENA ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-arena">
  <nav class="navbar">
    <div class="nav-logo" onclick="goTo('landing')"><span>O BLOCK</span> E FOOTBALL</div>
    <div class="nav-tabs">
      <button class="nav-tab on">‚öΩ ARENA</button>
      <button class="nav-tab" onclick="goTo('admin')">üõ°Ô∏è ADMIN</button>
    </div>
    <div class="nav-live"><div class="live-dot"></div> LIVE ¬∑ SEASON 2026</div>
  </nav>

  <div class="stats-bar">
    <div class="sbar-item"><div class="sbar-num" id="a-p">0</div><div class="sbar-lbl">Players</div></div>
    <div class="sbar-item"><div class="sbar-num" id="a-m">0</div><div class="sbar-lbl">Matches</div></div>
    <div class="sbar-item"><div class="sbar-num" id="a-g">0</div><div class="sbar-lbl">Goals</div></div>
    <div class="sbar-item"><div class="sbar-num" id="a-yc">0</div><div class="sbar-lbl">üü® Yellow</div></div>
    <div class="sbar-item"><div class="sbar-num" id="a-rc">0</div><div class="sbar-lbl">üü• Red</div></div>
    <div class="sbar-item"><div class="sbar-num" id="a-fx">0</div><div class="sbar-lbl">Fixtures</div></div>
  </div>

  <!-- Arena section tabs -->
  <div class="arena-tabs">
    <button class="atab on" onclick="switchArenaTab('table')">üèÜ TABLE</button>
    <button class="atab" onclick="switchArenaTab('scorers')">ü•á TOP SCORERS</button>
    <button class="atab" onclick="switchArenaTab('results')">‚ö° RESULTS</button>
    <button class="atab" onclick="switchArenaTab('fixtures')">üìÖ FIXTURES</button>
    <button class="atab" onclick="switchArenaTab('profiles')">üèÖ PROFILES</button>
  </div>

  <!-- TABLE TAB -->
  <div class="tab-content on" id="tab-table" style="flex:1;overflow:hidden;">
    <div style="display:grid;grid-template-columns:1fr 280px;flex:1;overflow:hidden;">
      <!-- Leaderboard -->
      <div class="apanel">
        <div class="ptitle">üèÜ LEAGUE TABLE <span class="badge b-red">Live</span></div>
        <div class="psub">Goals ¬∑ Form ¬∑ Cards ¬∑ Points</div>
        <div class="scroll-wrap">
          <table class="lb-table">
            <thead><tr><th>#</th><th>Player</th><th>M</th><th>G</th><th>GD</th><th>Form</th><th>üü®</th><th>üü•</th><th>PTS</th></tr></thead>
            <tbody id="lb-body"><tr><td colspan="9"><div class="empty">Register players to see table</div></td></tr></tbody>
          </table>
        </div>
      </div>
      <!-- Right: register + players -->
      <div class="reg-panel">
        <div class="reg-top">
          <div class="ptitle" style="font-size:18px;margin-bottom:10px;">JOIN THE ARENA</div>
          <label class="form-label">Full Name</label>
          <input type="text" class="form-input" id="reg-name" placeholder="Enter your name...">
          <label class="form-label">Position</label>
          <select class="form-select" id="reg-pos">
            <option value="Forward">‚ö° Forward</option>
            <option value="Midfielder">üîÑ Midfielder</option>
            <option value="Defender">üõ°Ô∏è Defender</option>
            <option value="Goalkeeper">üß§ Goalkeeper</option>
          </select>
          <button class="btn-grn" onclick="registerPlayer()">‚ö° REGISTER</button>
        </div>
        <div style="padding:10px 12px 6px;flex-shrink:0;border-bottom:1px solid rgba(255,255,255,.05)">
          <div class="ptitle" style="font-size:16px;">PLAYERS <span class="badge b-grn" id="p-cnt">0</span></div>
        </div>
        <div class="plist-wrap"><div id="p-list"><div class="empty">No players yet</div></div></div>
      </div>
    </div>
    <div class="ticker"><span class="ticker-inner" id="ticker-txt">‚ö° SEASON 2026 IS LIVE &nbsp;&nbsp;&nbsp; üèÜ O BLOCK E FOOTBALL ARENA &nbsp;&nbsp;&nbsp; ‚öΩ REGISTER NOW TO COMPETE &nbsp;&nbsp;&nbsp; üöÄ REAL-TIME SCORES &nbsp;&nbsp;&nbsp;</span></div>
  </div>

  <!-- TOP SCORERS TAB -->
  <div class="tab-content" id="tab-scorers" style="flex:1;overflow:hidden;">
    <div class="apanel" style="width:100%">
      <div class="ptitle">ü•á TOP SCORERS <span class="badge b-gold">Golden Boot</span></div>
      <div class="psub">Season 2026 ‚Äî Goals scored</div>
      <div class="scroll-wrap" id="scorers-list"><div class="empty">No goals scored yet</div></div>
    </div>
  </div>

  <!-- RESULTS TAB -->
  <div class="tab-content" id="tab-results" style="flex:1;overflow:hidden;">
    <div style="display:grid;grid-template-columns:1fr 1fr;flex:1;overflow:hidden;">
      <!-- Match of the Week -->
      <div class="apanel">
        <div class="ptitle">üèüÔ∏è MATCH OF THE WEEK</div>
        <div class="psub">Featured fixture</div>
        <div id="motw-display"><div class="empty">No match of the week set</div></div>
        <div class="sep"></div>
        <div class="ptitle" style="font-size:18px;">RECENT RESULTS</div>
        <div class="scroll-wrap" id="matches-list"><div class="empty">No matches yet</div></div>
      </div>
      <!-- All results -->
      <div class="apanel">
        <div class="ptitle">üìä ALL RESULTS</div>
        <div class="psub">Full match history</div>
        <div class="scroll-wrap" id="all-results"><div class="empty">No results yet</div></div>
      </div>
    </div>
  </div>

  <!-- FIXTURES TAB -->
  <div class="tab-content" id="tab-fixtures" style="flex:1;overflow:hidden;">
    <div class="apanel" style="width:100%">
      <div class="ptitle">üìÖ UPCOMING FIXTURES <span class="badge b-org">Schedule</span></div>
      <div class="psub">Upcoming matches ‚Äî Season 2026</div>
      <div class="scroll-wrap" id="fixtures-list"><div class="empty">No fixtures scheduled yet</div></div>
    </div>
  </div>

  <!-- PROFILES TAB -->
  <div class="tab-content" id="tab-profiles" style="flex:1;overflow:hidden;">
    <div class="apanel" style="width:100%">
      <div class="ptitle">üèÖ PLAYER PROFILES</div>
      <div class="psub">Click a player to see full stats</div>
      <div class="scroll-wrap"><div class="profile-grid" id="profile-grid"><div class="empty">No players registered</div></div></div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAGE 3: ADMIN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-admin">
  <nav class="navbar">
    <div class="nav-logo" onclick="goTo('landing')"><span>O BLOCK</span> E FOOTBALL</div>
    <div class="nav-tabs">
      <button class="nav-tab" onclick="goTo('arena')">‚öΩ ARENA</button>
      <button class="nav-tab on">üõ°Ô∏è ADMIN</button>
    </div>
    <div class="nav-live"><div class="live-dot"></div> LIVE ¬∑ SEASON 2026</div>
  </nav>

  <div class="admin-grid">
    <!-- LEFT: Login / Controls -->
    <div class="admin-left">
      <!-- LOGIN -->
      <div class="login-wrap" id="login-screen">
        <div class="login-card">
          <div class="ltitle">üõ°Ô∏è ADMIN LOGIN</div>
          <div class="lsub">Restricted Access ‚Äî Authorized Only</div>
          <label class="form-label">Email</label>
          <input type="email" class="form-input" id="a-email" placeholder="your@email.com">
          <label class="form-label">Password</label>
          <div class="inp-wrap">
            <input type="password" class="form-input" id="a-pass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" onkeydown="if(event.key==='Enter')doLogin()">
            <button class="tog-pass" onclick="togglePass()">üëÅ</button>
          </div>
          <button class="btn-grn" style="margin-top:6px" onclick="doLogin()">üîê AUTHENTICATE</button>
        </div>
      </div>

      <!-- ADMIN ACTIVE -->
      <div id="admin-view" class="admin-active-view">
        <div class="admin-topbar">
          <div class="admin-who"><div class="live-dot"></div> Admin Active</div>
          <button class="btn-logout" onclick="doLogout()">LOGOUT</button>
        </div>
        <!-- Admin section tabs -->
        <div class="admin-tabs">
          <button class="admin-tab on" onclick="switchAdminTab('scores')">‚öΩ SCORES</button>
          <button class="admin-tab" onclick="switchAdminTab('fixtures')">üìÖ FIXTURES</button>
          <button class="admin-tab" onclick="switchAdminTab('motw')">üèüÔ∏è MOTW</button>
          <button class="admin-tab" onclick="switchAdminTab('cards')">üü® CARDS</button>
        </div>

        <!-- SCORES SECTION -->
        <div class="admin-section on" id="asec-scores">
          <div class="ptitle" style="font-size:18px;margin-bottom:3px;">UPDATE MATCH SCORE</div>
          <div class="psub">Select players, enter goals & cards</div>
          <div class="admin-scroll">
            <div class="vs-row">
              <div><label class="form-label">Player A</label><select class="form-select" id="pA"></select></div>
              <div class="vs-txt">VS</div>
              <div><label class="form-label">Player B</label><select class="form-select" id="pB"></select></div>
            </div>
            <div class="score-row">
              <input type="number" class="score-inp" id="gA" value="0" min="0">
              <div class="scolon">:</div>
              <input type="number" class="score-inp" id="gB" value="0" min="0">
            </div>
            <div class="cards-row">
              <div>
                <div class="card-input-label"><span class="ycard"></span> Yellow A</div>
                <input type="number" class="form-input" id="ycA" value="0" min="0" style="margin-bottom:0">
              </div>
              <div>
                <div class="card-input-label"><span class="ycard"></span> Yellow B</div>
                <input type="number" class="form-input" id="ycB" value="0" min="0" style="margin-bottom:0">
              </div>
              <div>
                <div class="card-input-label"><span class="rcard"></span> Red A</div>
                <input type="number" class="form-input" id="rcA" value="0" min="0" style="margin-bottom:0">
              </div>
              <div>
                <div class="card-input-label"><span class="rcard"></span> Red B</div>
                <input type="number" class="form-input" id="rcB" value="0" min="0" style="margin-bottom:0">
              </div>
            </div>
            <button class="btn-grn" onclick="submitResult()">‚ö° SUBMIT RESULT</button>
          </div>
        </div>

        <!-- FIXTURES SECTION -->
        <div class="admin-section" id="asec-fixtures">
          <div class="ptitle" style="font-size:18px;margin-bottom:3px;">ADD FIXTURE</div>
          <div class="psub">Schedule upcoming matches</div>
          <div class="admin-scroll">
            <div class="vs-row">
              <div><label class="form-label">Player A</label><select class="form-select" id="fxA"></select></div>
              <div class="vs-txt">VS</div>
              <div><label class="form-label">Player B</label><select class="form-select" id="fxB"></select></div>
            </div>
            <label class="form-label">Date</label>
            <input type="date" class="form-input" id="fxDate">
            <label class="form-label">Time</label>
            <input type="time" class="form-input" id="fxTime">
            <button class="btn-grn" onclick="addFixture()">üìÖ ADD FIXTURE</button>
            <div class="sep"></div>
            <div class="ptitle" style="font-size:16px;margin-bottom:8px;">SCHEDULED FIXTURES</div>
            <div id="admin-fixtures"><div class="empty">No fixtures yet</div></div>
          </div>
        </div>

        <!-- MOTW SECTION -->
        <div class="admin-section" id="asec-motw">
          <div class="ptitle" style="font-size:18px;margin-bottom:3px;">MATCH OF THE WEEK</div>
          <div class="psub">Highlight a special match</div>
          <div class="admin-scroll">
            <div class="vs-row">
              <div><label class="form-label">Player A</label><select class="form-select" id="motwA"></select></div>
              <div class="vs-txt">VS</div>
              <div><label class="form-label">Player B</label><select class="form-select" id="motwB"></select></div>
            </div>
            <div class="score-row">
              <input type="number" class="score-inp" id="motwGA" value="0" min="0">
              <div class="scolon">:</div>
              <input type="number" class="score-inp" id="motwGB" value="0" min="0">
            </div>
            <label class="form-label">Description (optional)</label>
            <input type="text" class="form-input" id="motwDesc" placeholder="e.g. Epic comeback win!">
            <button class="btn-grn" onclick="setMotw()">üèüÔ∏è SET AS MATCH OF WEEK</button>
          </div>
        </div>

        <!-- CARDS SECTION -->
        <div class="admin-section" id="asec-cards">
          <div class="ptitle" style="font-size:18px;margin-bottom:3px;">DISCIPLINARY</div>
          <div class="psub">Issue cards to players</div>
          <div class="admin-scroll">
            <label class="form-label">Select Player</label>
            <select class="form-select" id="cardPlayer"></select>
            <label class="form-label">Card Type</label>
            <select class="form-select" id="cardType">
              <option value="yellow">üü® Yellow Card</option>
              <option value="red">üü• Red Card</option>
            </select>
            <button class="btn-grn" onclick="issueCard()">üü® ISSUE CARD</button>
          </div>
        </div>
      </div>
    </div>

    <!-- RIGHT: Player management -->
    <div class="admin-right">
      <div class="ptitle" style="margin-bottom:3px;">PLAYER MANAGEMENT</div>
      <div class="psub">Manage registered players</div>
      <div class="scroll-wrap" id="admin-plist"><div class="empty">No players registered</div></div>
    </div>
  </div>
</div>

<!-- Player Profile Modal -->
<div class="modal-overlay" id="profile-modal">
  <div class="modal profile-modal">
    <div class="profile-modal-header">
      <div class="profile-modal-avatar" id="pm-avatar">üë§</div>
      <div><div class="profile-modal-name" id="pm-name"></div><div class="profile-modal-pos" id="pm-pos"></div></div>
    </div>
    <div class="profile-stats-grid">
      <div class="psg-item"><div class="psg-num" id="pm-m">0</div><div class="psg-lbl">Matches</div></div>
      <div class="psg-item"><div class="psg-num" id="pm-g">0</div><div class="psg-lbl">Goals</div></div>
      <div class="psg-item"><div class="psg-num" id="pm-pts">0</div><div class="psg-lbl">Points</div></div>
      <div class="psg-item"><div class="psg-num" id="pm-gd">0</div><div class="psg-lbl">GD</div></div>
      <div class="psg-item"><div class="psg-num" id="pm-yc" style="color:var(--gold)">0</div><div class="psg-lbl">üü® Yellow</div></div>
      <div class="psg-item"><div class="psg-num" id="pm-rc" style="color:var(--red)">0</div><div class="psg-lbl">üü• Red</div></div>
      <div class="psg-item" style="grid-column:span 2"><div style="font-family:'Barlow Condensed',sans-serif;font-size:11px;color:var(--muted);letter-spacing:1px;text-transform:uppercase;margin-bottom:6px;">Form (Last 5)</div><div class="form-dots" id="pm-form"></div></div>
    </div>
    <div class="modal-acts"><button class="btn-cancel" onclick="closeProfile()">CLOSE</button></div>
  </div>
</div>

<!-- Delete Confirm Modal -->
<div class="modal-overlay" id="del-modal">
  <div class="modal">
    <div class="modal-title">‚ö†Ô∏è CONFIRM DELETE</div>
    <div class="modal-desc" id="del-desc">Remove this player?</div>
    <div class="modal-acts">
      <button class="btn-cancel" onclick="closeConfirm()">CANCEL</button>
      <button class="btn-del" onclick="confirmDelete()">üóëÔ∏è DELETE</button>
    </div>
  </div>
</div>

<div class="toast" id="toast"><span id="toast-msg"></span></div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script>
// ‚ïê‚ïê‚ïê FIREBASE ‚ïê‚ïê‚ïê
firebase.initializeApp({
  apiKey:"AIzaSyB5L8xFN5S8WMWs3x2PrVWojFFQu414trg",
  authDomain:"o-block-e-football-web-cd467.firebaseapp.com",
  projectId:"o-block-e-football-web-cd467",
  storageBucket:"o-block-e-football-web-cd467.firebasestorage.app",
  messagingSenderId:"158995345757",
  appId:"1:158995345757:web:cfedcefb45f99fd0c2f8b4"
});
const db = firebase.firestore();

let players=[], matches=[], fixtures=[], motw=null;
let isAdmin=false, delTarget=null;

// ‚ïê‚ïê‚ïê NAVIGATION ‚ïê‚ïê‚ïê
function goTo(p){
  const cur=document.querySelector('.page.active');
  const nxt=document.getElementById('page-'+p);
  if(!nxt||cur===nxt)return;
  cur.classList.add('exit');
  setTimeout(()=>{
    cur.classList.remove('active','exit');
    nxt.classList.add('active');
    if(p==='arena')renderAll();
    if(p==='admin')renderAdmin();
    if(p==='landing')animateLanding();
  },400);
}

// ‚ïê‚ïê‚ïê ARENA TABS ‚ïê‚ïê‚ïê
function switchArenaTab(tab){
  document.querySelectorAll('.atab').forEach((t,i)=>{
    const tabs=['table','scorers','results','fixtures','profiles'];
    t.classList.toggle('on',tabs[i]===tab);
  });
  document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('on'));
  const el=document.getElementById('tab-'+tab);
  if(el)el.classList.add('on');
  renderAll();
}

// ‚ïê‚ïê‚ïê ADMIN TABS ‚ïê‚ïê‚ïê
function switchAdminTab(tab){
  document.querySelectorAll('.admin-tab').forEach(t=>t.classList.remove('on'));
  event.target.classList.add('on');
  document.querySelectorAll('.admin-section').forEach(s=>s.classList.remove('on'));
  const el=document.getElementById('asec-'+tab);
  if(el)el.classList.add('on');
}

// ‚ïê‚ïê‚ïê PARTICLES ‚ïê‚ïê‚ïê
function initParticles(){
  const c=document.getElementById('particles');
  for(let i=0;i<18;i++){
    const p=document.createElement('div');
    p.className='particle';
    p.style.left=Math.random()*100+'%';
    p.style.animationDuration=(7+Math.random()*10)+'s';
    p.style.animationDelay=(Math.random()*8)+'s';
    const s=(1+Math.random()*2)+'px';
    p.style.width=p.style.height=s;
    c.appendChild(p);
  }
}

function animCount(el,target){
  let v=0;const step=Math.max(1,Math.ceil(target/40));
  const t=setInterval(()=>{v=Math.min(v+step,target);el.textContent=v;if(v>=target)clearInterval(t);},30);
}

function animateLanding(){
  const g=players.reduce((s,p)=>s+(p.goals||0),0);
  setTimeout(()=>animCount(document.getElementById('l-p'),players.length),300);
  setTimeout(()=>animCount(document.getElementById('l-m'),matches.length),500);
  setTimeout(()=>animCount(document.getElementById('l-g'),g),700);
}

// ‚ïê‚ïê‚ïê REGISTER ‚ïê‚ïê‚ïê
async function registerPlayer(){
  const name=document.getElementById('reg-name').value.trim();
  const pos=document.getElementById('reg-pos').value;
  if(!name)return toast('Enter a player name',true);
  if(players.find(p=>p.name.toLowerCase()===name.toLowerCase()))return toast('Player already exists',true);
  players.push({name,position:pos,matches:0,goals:0,goalsFor:0,goalsAgainst:0,points:0,yellowCards:0,redCards:0,form:[]});
  await save();
  document.getElementById('reg-name').value='';
  toast('‚ö° '+name+' joined the arena!');
}

// ‚ïê‚ïê‚ïê SORTED ‚ïê‚ïê‚ïê
function sorted(){
  return [...players].sort((a,b)=>{
    if((b.points||0)!==(a.points||0))return (b.points||0)-(a.points||0);
    const ga=(a.goalsFor||0)-(a.goalsAgainst||0),gb=(b.goalsFor||0)-(b.goalsAgainst||0);
    if(gb!==ga)return gb-ga;
    return (b.goals||0)-(a.goals||0);
  });
}

// ‚ïê‚ïê‚ïê RENDER ALL ‚ïê‚ïê‚ïê
function renderAll(){
  renderTable();
  renderScorers();
  renderResults();
  renderFixtures();
  renderProfiles();
  renderPlayers();
  updateStatsBar();
  updateTicker();
}

function updateStatsBar(){
  const g=players.reduce((s,p)=>s+(p.goals||0),0);
  const yc=players.reduce((s,p)=>s+(p.yellowCards||0),0);
  const rc=players.reduce((s,p)=>s+(p.redCards||0),0);
  document.getElementById('a-p').textContent=players.length;
  document.getElementById('a-m').textContent=matches.length;
  document.getElementById('a-g').textContent=g;
  document.getElementById('a-yc').textContent=yc;
  document.getElementById('a-rc').textContent=rc;
  document.getElementById('a-fx').textContent=fixtures.length;
}

// ‚ïê‚ïê‚ïê RENDER TABLE ‚ïê‚ïê‚ïê
function renderTable(){
  const tbody=document.getElementById('lb-body');
  document.getElementById('p-cnt').textContent=players.length;
  if(!players.length){tbody.innerHTML='<tr><td colspan="9"><div class="empty">Register players to see table</div></td></tr>';return;}
  const s=sorted();
  // calc prev positions for arrows
  tbody.innerHTML=s.map((p,i)=>{
    const rc=i===0?'g':i===1?'s':i===2?'b':'';
    const gd=(p.goalsFor||0)-(p.goalsAgainst||0);
    const gdStr=gd>0?`<span class="gd-arrow gd-up">‚ñ≤</span>+${gd}`:gd<0?`<span class="gd-arrow gd-dn">‚ñº</span>${gd}`:`<span class="gd-arrow gd-eq">‚Äî</span>0`;
    const form=(p.form||[]).slice(-5).map(r=>`<div class="fdot ${r}">${r}</div>`).join('');
    const yc=p.yellowCards||0;
    const rcards=p.redCards||0;
    return `<tr onclick="showProfile(${players.indexOf(p)})" style="cursor:pointer">
      <td class="rnk ${rc}">${i+1}</td>
      <td class="pname-cell">${p.name}<br><span style="font-family:'Barlow Condensed';font-size:11px;color:var(--muted);letter-spacing:1px">${p.position||''}</span></td>
      <td>${p.matches||0}</td>
      <td class="gcell">${p.goals||0}</td>
      <td style="font-size:13px;color:var(--muted)">${gdStr}</td>
      <td><div class="form-dots">${form||'<span style="color:var(--muted);font-size:11px">‚Äî</span>'}</div></td>
      <td><span style="color:var(--gold);font-family:\'Bebas Neue\';font-size:18px">${yc}</span></td>
      <td><span style="color:var(--red);font-family:\'Bebas Neue\';font-size:18px">${rcards}</span></td>
      <td class="pcell">${p.points||0}</td>
    </tr>`;
  }).join('');

  // Player list (right panel)
  const pl=document.getElementById('p-list');
  pl.innerHTML=players.map(p=>`
    <div class="pitem">
      <div><div class="pitem-name">${p.name}</div><div class="pitem-stats">${p.position||''} ¬∑ ${p.matches||0}M ¬∑ ${p.goals||0}G ¬∑ ${p.points||0}PTS</div></div>
    </div>`).join('');
}

// ‚ïê‚ïê‚ïê TOP SCORERS ‚ïê‚ïê‚ïê
function renderScorers(){
  const sl=document.getElementById('scorers-list');
  if(!players.length){sl.innerHTML='<div class="empty">No goals scored yet</div>';return;}
  const s=[...players].sort((a,b)=>(b.goals||0)-(a.goals||0)).filter(p=>p.goals>0);
  if(!s.length){sl.innerHTML='<div class="empty">No goals scored yet</div>';return;}
  const max=s[0].goals||1;
  sl.innerHTML=s.map((p,i)=>{
    const rc=i===0?'g':i===1?'s':i===2?'b':'';
    const pct=((p.goals||0)/max)*100;
    return `<div class="scorer-item">
      <div class="scorer-rank ${rc}">${i+1}</div>
      <div class="scorer-info"><div class="scorer-name">${p.name}</div><div class="scorer-pos">${p.position||'Player'}</div></div>
      <div class="scorer-bar-wrap"><div class="scorer-bar" style="width:${pct}%"></div></div>
      <div class="scorer-goals">${p.goals||0}</div>
      ${i===0?'<div class="boot-icon">ü•á</div>':''}
    </div>`;
  }).join('');
}

// ‚ïê‚ïê‚ïê RESULTS ‚ïê‚ïê‚ïê
function renderResults(){
  // MOTW
  const motwEl=document.getElementById('motw-display');
  if(motw){
    motwEl.innerHTML=`<div class="motw-card">
      <div class="motw-title">üèüÔ∏è MATCH OF THE WEEK</div>
      <div class="motw-score-row">
        <div class="motw-player">${motw.playerA}</div>
        <div class="motw-score">${motw.goalsA} ‚Äî ${motw.goalsB}</div>
        <div class="motw-player">${motw.playerB}</div>
      </div>
      ${motw.description?`<div class="motw-desc">"${motw.description}"</div>`:''}
    </div>`;
  } else {
    motwEl.innerHTML='<div class="empty" style="padding:16px">No match of the week set</div>';
  }

  // Recent matches
  const ml=document.getElementById('matches-list');
  const ar=document.getElementById('all-results');
  if(!matches.length){
    ml.innerHTML='<div class="empty">No results yet</div>';
    ar.innerHTML='<div class="empty">No results yet</div>';
    return;
  }
  const renderMatch=(m,idx)=>`
    <div class="match-item">
      <div class="match-row">
        <div class="mplayer">${m.playerA}</div>
        <div class="mscore">${m.goalsA} ‚Äî ${m.goalsB}</div>
        <div class="mplayer r">${m.playerB}</div>
        <button class="share-btn" onclick="shareResult(${idx})" style="margin-left:8px">üì± Share</button>
      </div>
      <div class="match-meta">
        ${m.date?`<span>${new Date(m.date).toLocaleDateString()}</span>`:''}
        ${m.yellowA||m.yellowB?`<span>üü® ${m.yellowA||0}+${m.yellowB||0}</span>`:''}
        ${m.redA||m.redB?`<span>üü• ${m.redA||0}+${m.redB||0}</span>`:''}
      </div>
    </div>`;
  ml.innerHTML=[...matches].reverse().slice(0,5).map((m,i)=>renderMatch(m,matches.length-1-i)).join('');
  ar.innerHTML=[...matches].reverse().map((m,i)=>renderMatch(m,matches.length-1-i)).join('');
}

// ‚ïê‚ïê‚ïê FIXTURES ‚ïê‚ïê‚ïê
function renderFixtures(){
  const fl=document.getElementById('fixtures-list');
  if(!fixtures.length){fl.innerHTML='<div class="empty">No fixtures scheduled yet</div>';return;}
  fl.innerHTML=[...fixtures].sort((a,b)=>new Date(a.date)-new Date(b.date)).map((f,i)=>`
    <div class="fixture-item">
      <div>
        <div style="font-size:15px;font-weight:500">${f.playerA} <span style="color:var(--muted);font-size:13px">vs</span> ${f.playerB}</div>
        <div class="fixture-date">${new Date(f.date).toLocaleDateString('en-GB',{weekday:'short',day:'numeric',month:'short'})}</div>
      </div>
      <div style="text-align:right">
        <div class="fixture-time">${f.time||'TBD'}</div>
        <div class="fixture-vs">UPCOMING</div>
      </div>
    </div>`).join('');
}

// ‚ïê‚ïê‚ïê PROFILES ‚ïê‚ïê‚ïê
function renderProfiles(){
  const pg=document.getElementById('profile-grid');
  if(!players.length){pg.innerHTML='<div class="empty">No players registered</div>';return;}
  pg.innerHTML=players.map((p,i)=>`
    <div class="profile-card" onclick="showProfile(${i})">
      <div class="profile-avatar">üë§</div>
      <div class="profile-name">${p.name}</div>
      <div class="profile-pos">${p.position||'Player'}</div>
      <div class="profile-stats">
        <div class="ps-item"><div class="ps-num">${p.goals||0}</div><div class="ps-lbl">Goals</div></div>
        <div class="ps-item"><div class="ps-num">${p.points||0}</div><div class="ps-lbl">Pts</div></div>
        <div class="ps-item"><div class="ps-num" style="color:var(--gold)">${p.yellowCards||0}</div><div class="ps-lbl">üü®</div></div>
        <div class="ps-item"><div class="ps-num" style="color:var(--red)">${p.redCards||0}</div><div class="ps-lbl">üü•</div></div>
      </div>
    </div>`).join('');
}

// ‚ïê‚ïê‚ïê SHOW PROFILE MODAL ‚ïê‚ïê‚ïê
function showProfile(i){
  const p=players[i];
  document.getElementById('pm-name').textContent=p.name;
  document.getElementById('pm-pos').textContent=p.position||'Player';
  document.getElementById('pm-m').textContent=p.matches||0;
  document.getElementById('pm-g').textContent=p.goals||0;
  document.getElementById('pm-pts').textContent=p.points||0;
  const gd=(p.goalsFor||0)-(p.goalsAgainst||0);
  document.getElementById('pm-gd').textContent=(gd>0?'+':'')+gd;
  document.getElementById('pm-yc').textContent=p.yellowCards||0;
  document.getElementById('pm-rc').textContent=p.redCards||0;
  const form=(p.form||[]).slice(-5);
  document.getElementById('pm-form').innerHTML=form.length?form.map(r=>`<div class="fdot ${r}">${r}</div>`).join(''):'<span style="color:var(--muted);font-size:12px">No matches yet</span>';
  document.getElementById('profile-modal').classList.add('open');
}
function closeProfile(){document.getElementById('profile-modal').classList.remove('open');}

// ‚ïê‚ïê‚ïê RENDER ADMIN ‚ïê‚ïê‚ïê
function renderAdmin(){
  const opts=players.map((p,i)=>`<option value="${i}">${p.name}</option>`).join('');
  const blank='<option value="">‚Äî Select Player ‚Äî</option>';
  ['pA','pB','fxA','fxB','motwA','motwB','cardPlayer'].forEach(id=>{
    const el=document.getElementById(id);
    if(el)el.innerHTML=blank+opts;
  });
  const apl=document.getElementById('admin-plist');
  if(!players.length){apl.innerHTML='<div class="empty">No players registered</div>';return;}
  apl.innerHTML=players.map((p,i)=>`
    <div class="pitem">
      <div>
        <div class="pitem-name">${p.name} <span style="font-family:'Barlow Condensed';font-size:11px;color:var(--green);letter-spacing:1px">${p.position||''}</span></div>
        <div class="pitem-stats">${p.matches||0}M ¬∑ ${p.goals||0}G ¬∑ ${p.points||0}PTS ¬∑ üü®${p.yellowCards||0} ¬∑ üü•${p.redCards||0}</div>
      </div>
      ${isAdmin?`<button class="del-btn" onclick="askDelete(${i})">REMOVE</button>`:''}
    </div>`).join('');

  // Admin fixtures list
  const afl=document.getElementById('admin-fixtures');
  if(afl){
    if(!fixtures.length){afl.innerHTML='<div class="empty">No fixtures yet</div>';}
    else{afl.innerHTML=fixtures.map((f,i)=>`
      <div class="fixture-item">
        <div style="font-size:14px">${f.playerA} vs ${f.playerB}<br><span style="font-size:12px;color:var(--muted)">${f.date} ${f.time||''}</span></div>
        <button class="del-btn" onclick="deleteFixture(${i})">‚úï</button>
      </div>`).join('');}
  }
}

// ‚ïê‚ïê‚ïê SUBMIT RESULT ‚ïê‚ïê‚ïê
async function submitResult(){
  const iA=document.getElementById('pA').value;
  const iB=document.getElementById('pB').value;
  const gA=parseInt(document.getElementById('gA').value)||0;
  const gB=parseInt(document.getElementById('gB').value)||0;
  const ycA=parseInt(document.getElementById('ycA').value)||0;
  const ycB=parseInt(document.getElementById('ycB').value)||0;
  const rcA=parseInt(document.getElementById('rcA').value)||0;
  const rcB=parseInt(document.getElementById('rcB').value)||0;
  if(!iA||!iB)return toast('Select both players',true);
  if(iA===iB)return toast('Select different players',true);
  const pA=players[iA],pB=players[iB];
  pA.matches=(pA.matches||0)+1; pB.matches=(pB.matches||0)+1;
  pA.goals=(pA.goals||0)+gA; pB.goals=(pB.goals||0)+gB;
  pA.goalsFor=(pA.goalsFor||0)+gA; pB.goalsFor=(pB.goalsFor||0)+gB;
  pA.goalsAgainst=(pA.goalsAgainst||0)+gB; pB.goalsAgainst=(pB.goalsAgainst||0)+gA;
  pA.yellowCards=(pA.yellowCards||0)+ycA; pB.yellowCards=(pB.yellowCards||0)+ycB;
  pA.redCards=(pA.redCards||0)+rcA; pB.redCards=(pB.redCards||0)+rcB;
  // Points
  let resA,resB;
  if(gA>gB){pA.points=(pA.points||0)+3;resA='W';resB='L';}
  else if(gB>gA){pB.points=(pB.points||0)+3;resA='L';resB='W';}
  else{pA.points=(pA.points||0)+1;pB.points=(pB.points||0)+1;resA='D';resB='D';}
  // Form
  pA.form=[...(pA.form||[]),resA].slice(-5);
  pB.form=[...(pB.form||[]),resB].slice(-5);
  matches.push({playerA:pA.name,playerB:pB.name,goalsA:gA,goalsB:gB,yellowA:ycA,yellowB:ycB,redA:rcA,redB:rcB,date:new Date().toISOString()});
  await save();
  ['gA','gB','ycA','ycB','rcA','rcB'].forEach(id=>document.getElementById(id).value=0);
  renderAdmin();
  toast(`‚úì ${pA.name} ${gA}‚Äî${gB} ${pB.name}`);
}

// ‚ïê‚ïê‚ïê ADD FIXTURE ‚ïê‚ïê‚ïê
async function addFixture(){
  const iA=document.getElementById('fxA').value;
  const iB=document.getElementById('fxB').value;
  const date=document.getElementById('fxDate').value;
  const time=document.getElementById('fxTime').value;
  if(!iA||!iB)return toast('Select both players',true);
  if(iA===iB)return toast('Select different players',true);
  if(!date)return toast('Select a date',true);
  fixtures.push({playerA:players[iA].name,playerB:players[iB].name,date,time});
  await saveFixtures();
  renderAdmin();renderFixtures();
  document.getElementById('a-fx').textContent=fixtures.length;
  toast('üìÖ Fixture added!');
}

async function deleteFixture(i){
  fixtures.splice(i,1);
  await saveFixtures();
  renderAdmin();renderFixtures();
  toast('Fixture removed');
}

// ‚ïê‚ïê‚ïê MATCH OF THE WEEK ‚ïê‚ïê‚ïê
async function setMotw(){
  const iA=document.getElementById('motwA').value;
  const iB=document.getElementById('motwB').value;
  const gA=parseInt(document.getElementById('motwGA').value)||0;
  const gB=parseInt(document.getElementById('motwGB').value)||0;
  const desc=document.getElementById('motwDesc').value.trim();
  if(!iA||!iB)return toast('Select both players',true);
  if(iA===iB)return toast('Select different players',true);
  motw={playerA:players[iA].name,playerB:players[iB].name,goalsA:gA,goalsB:gB,description:desc};
  await db.collection('arena').doc('motw').set(motw);
  renderResults();
  toast('üèüÔ∏è Match of the Week set!');
}

// ‚ïê‚ïê‚ïê ISSUE CARD ‚ïê‚ïê‚ïê
async function issueCard(){
  const i=document.getElementById('cardPlayer').value;
  const type=document.getElementById('cardType').value;
  if(!i)return toast('Select a player',true);
  const p=players[i];
  if(type==='yellow')p.yellowCards=(p.yellowCards||0)+1;
  else p.redCards=(p.redCards||0)+1;
  await save();
  renderAdmin();renderAll();
  toast(`${type==='yellow'?'üü®':'üü•'} Card issued to ${p.name}`);
}

// ‚ïê‚ïê‚ïê SHARE RESULT ‚ïê‚ïê‚ïê
function shareResult(i){
  const m=matches[i];
  if(!m)return;
  const winner=m.goalsA>m.goalsB?m.playerA:m.goalsB>m.goalsA?m.playerB:'Draw';
  const text=`‚öΩ O BLOCK E FOOTBALL\nüèÜ Season 2026\n\n${m.playerA} ${m.goalsA} ‚Äî ${m.goalsB} ${m.playerB}\n\n${winner!=='Draw'?`üéâ Winner: ${winner}!`:'ü§ù It\'s a Draw!'}\n\nüì± Watch live: https://o-block-e-football-web-cd467.web.app`;
  if(navigator.share){navigator.share({title:'O Block E Football',text});}
  else{
    navigator.clipboard.writeText(text).then(()=>toast('üìã Result copied! Paste to WhatsApp'));
    // WhatsApp fallback
    const waUrl=`https://wa.me/?text=${encodeURIComponent(text)}`;
    window.open(waUrl,'_blank');
  }
}

function updateTicker(){
  if(players.length>0){
    const top=sorted()[0];
    document.getElementById('ticker-txt').textContent=`‚ö° SEASON 2026 IS LIVE   üèÜ LEADER: ${top.name.toUpperCase()} ‚Äî ${top.points||0} PTS   ‚öΩ ${matches.length} MATCHES PLAYED   ü•á TOP SCORER: ${[...players].sort((a,b)=>(b.goals||0)-(a.goals||0))[0].name.toUpperCase()} ‚Äî ${[...players].sort((a,b)=>(b.goals||0)-(a.goals||0))[0].goals||0} GOALS   üìÖ ${fixtures.length} FIXTURES SCHEDULED   `;
  }
}

// ‚ïê‚ïê‚ïê PLAYERS RIGHT PANEL ‚ïê‚ïê‚ïê
function renderPlayers(){
  const pl=document.getElementById('p-list');
  document.getElementById('p-cnt').textContent=players.length;
  if(!players.length){pl.innerHTML='<div class="empty">No players yet</div>';return;}
  pl.innerHTML=players.map(p=>`
    <div class="pitem" onclick="showProfile(${players.indexOf(p)})" style="cursor:pointer">
      <div><div class="pitem-name">${p.name}</div><div class="pitem-stats">${p.position||''} ¬∑ ${p.goals||0}G ¬∑ ${p.points||0}PTS</div></div>
    </div>`).join('');
}

// ‚ïê‚ïê‚ïê ADMIN AUTH ‚ïê‚ïê‚ïê
function doLogin(){
  const e=document.getElementById('a-email').value;
  const p=document.getElementById('a-pass').value;
  if(e==='kipkiruileonard20@gmail.com'&&p==='Leon123#'){
    isAdmin=true;
    document.getElementById('login-screen').style.display='none';
    document.getElementById('admin-view').style.display='flex';
    renderAdmin();toast('üõ°Ô∏è Admin access granted');
  }else toast('Invalid credentials',true);
}
function doLogout(){
  isAdmin=false;
  document.getElementById('login-screen').style.display='flex';
  document.getElementById('admin-view').style.display='none';
  renderAdmin();toast('Logged out');
}
function togglePass(){const f=document.getElementById('a-pass');f.type=f.type==='password'?'text':'password';}

// ‚ïê‚ïê‚ïê DELETE ‚ïê‚ïê‚ïê
function askDelete(i){
  delTarget=i;
  document.getElementById('del-desc').textContent=`Remove "${players[i].name}" from the arena?`;
  document.getElementById('del-modal').classList.add('open');
}
function closeConfirm(){delTarget=null;document.getElementById('del-modal').classList.remove('open');}
async function confirmDelete(){
  if(delTarget===null)return;
  const name=players[delTarget].name;
  players.splice(delTarget,1);
  await save();closeConfirm();renderAdmin();renderAll();
  toast(name+' removed');
}

// ‚ïê‚ïê‚ïê SAVE ‚ïê‚ïê‚ïê
async function save(){await db.collection('arena').doc('players').set({list:players});await db.collection('arena').doc('matches').set({list:matches});}
async function saveFixtures(){await db.collection('arena').doc('fixtures').set({list:fixtures});}

// ‚ïê‚ïê‚ïê MODALS CLOSE ON OVERLAY ‚ïê‚ïê‚ïê
['del-modal','profile-modal'].forEach(id=>{
  document.getElementById(id).addEventListener('click',function(e){if(e.target===this){this.classList.remove('open');}});
});

// ‚ïê‚ïê‚ïê FIRESTORE LISTENERS ‚ïê‚ïê‚ïê
db.collection('arena').doc('players').onSnapshot(snap=>{
  players=snap.exists?snap.data().list||[]:[];
  animateLanding();
  const active=document.querySelector('.page.active');
  if(active&&active.id==='page-arena')renderAll();
  if(active&&active.id==='page-admin')renderAdmin();
});
db.collection('arena').doc('matches').onSnapshot(snap=>{
  matches=snap.exists?snap.data().list||[]:[];
  const active=document.querySelector('.page.active');
  if(active&&active.id==='page-arena')renderAll();
});
db.collection('arena').doc('fixtures').onSnapshot(snap=>{
  fixtures=snap.exists?snap.data().list||[]:[];
  const active=document.querySelector('.page.active');
  if(active&&active.id==='page-arena')renderFixtures();
});
db.collection('arena').doc('motw').onSnapshot(snap=>{
  motw=snap.exists?snap.data():null;
  const active=document.querySelector('.page.active');
  if(active&&active.id==='page-arena')renderResults();
});

// ‚ïê‚ïê‚ïê TOAST ‚ïê‚ïê‚ïê
function toast(msg,err=false){
  const t=document.getElementById('toast');
  document.getElementById('toast-msg').textContent=msg;
  t.className='toast'+(err?' err':'');
  t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'),3000);
}

// ‚ïê‚ïê‚ïê SPACE ROCKET ANIMATION ‚ïê‚ïê‚ïê
function initSpaceArena(){
  const page=document.getElementById('page-arena');
  const canvas=document.createElement('canvas');
  canvas.style.cssText='position:absolute;inset:0;width:100%;height:100%;pointer-events:none;z-index:0;';
  page.insertBefore(canvas,page.firstChild);
  function resize(){canvas.width=page.offsetWidth;canvas.height=page.offsetHeight;}
  resize();window.addEventListener('resize',resize);
  const ctx=canvas.getContext('2d');
  const stars=Array.from({length:250},()=>({x:Math.random(),y:Math.random(),r:.3+Math.random()*1.2,tw:Math.random()*Math.PI*2,spd:.01+Math.random()*.02}));
  const moon={x:.78,y:.18,r:90};
  const pads=[{x:.15,label:'PAD A'},{x:.50,label:'PAD B'},{x:.82,label:'PAD C'}];
  function makeRocket(pi){return{pi,x:pads[pi].x,y:-0.12-Math.random()*.4,spd:.0008+Math.random()*.0006,landed:false,lt:0,smoke:[],ga:0};}
  let rockets=[makeRocket(0),makeRocket(1),makeRocket(2)];
  rockets[1].y=-0.3;rockets[2].y=-0.55;
  function addSmoke(r,cx,cy){for(let i=0;i<3;i++)r.smoke.push({x:cx+(Math.random()-.5)*8,y:cy,vx:(Math.random()-.5)*.6,vy:.4+Math.random()*.8,life:1,size:3+Math.random()*5});}
  function drawRocket(r,W,H){
    const gY=H*.88;const tY=gY/H-38/H/2-.01;
    if(!r.landed){r.y+=r.spd;if(r.y>=tY){r.y=tY;r.landed=true;r.ga=1;}}
    else{r.lt++;r.ga=Math.max(0,1-r.lt/60);if(r.lt>280){rockets[rockets.indexOf(r)]=makeRocket(r.pi);return;}}
    const cx=r.x*W,cy=r.y*H,w=11,h=38;
    if(!r.landed||r.lt<20){
      addSmoke(r,cx,cy+h/2);
      const fh=18+Math.random()*14;
      const fg=ctx.createLinearGradient(0,cy+h/2,0,cy+h/2+fh);
      fg.addColorStop(0,'rgba(255,220,60,.95)');fg.addColorStop(.4,'rgba(255,100,20,.8)');fg.addColorStop(1,'rgba(255,40,0,0)');
      ctx.beginPath();ctx.moveTo(cx-w*.25,cy+h/2);ctx.quadraticCurveTo(cx,cy+h/2+fh*.6,cx,cy+h/2+fh);ctx.quadraticCurveTo(cx,cy+h/2+fh*.6,cx+w*.25,cy+h/2);ctx.fillStyle=fg;ctx.fill();
    }
    r.smoke=r.smoke.filter(s=>s.life>0);
    r.smoke.forEach(s=>{s.x+=s.vx;s.y+=s.vy;s.life-=.035;s.size+=.3;ctx.beginPath();ctx.arc(s.x,s.y,s.size,0,Math.PI*2);ctx.fillStyle=`rgba(180,140,100,${s.life*.18})`;ctx.fill();});
    ctx.save();
    const bg=ctx.createLinearGradient(cx-w/2,0,cx+w/2,0);bg.addColorStop(0,'#b0c8d8');bg.addColorStop(.4,'#e8f4f8');bg.addColorStop(1,'#607080');
    ctx.fillStyle=bg;ctx.beginPath();ctx.roundRect(cx-w/2,cy-h/2,w,h*.8,[2,2,0,0]);ctx.fill();
    ctx.fillStyle='#c8dce8';ctx.beginPath();ctx.moveTo(cx-w/2,cy-h/2);ctx.quadraticCurveTo(cx,cy-h/2-h*.35,cx,cy-h/2-h*.35);ctx.quadraticCurveTo(cx,cy-h/2-h*.35,cx+w/2,cy-h/2);ctx.fill();
    [-1,1].forEach(s=>{ctx.fillStyle='#8090a0';ctx.beginPath();ctx.moveTo(cx+s*w/2,cy+h*.25);ctx.lineTo(cx+s*(w/2+w*.7),cy+h*.45);ctx.lineTo(cx+s*w/2,cy+h*.42);ctx.fill();});
    if(r.y>tY-.08){[-1,1].forEach(s=>{ctx.strokeStyle='#8090a0';ctx.lineWidth=1.5;ctx.beginPath();ctx.moveTo(cx+s*w*.4,cy+h*.35);ctx.lineTo(cx+s*(w*.4+w*.9),cy+h/2+6);ctx.stroke();});}
    ctx.beginPath();ctx.arc(cx,cy-h*.05,4,0,Math.PI*2);ctx.fillStyle='rgba(150,220,255,.8)';ctx.fill();
    if(r.ga>0){const gl=ctx.createRadialGradient(cx,cy+h/2+4,0,cx,cy+h/2+4,40);gl.addColorStop(0,`rgba(255,150,50,${r.ga*.4})`);gl.addColorStop(1,'rgba(255,100,20,0)');ctx.beginPath();ctx.ellipse(cx,cy+h/2+4,40,12,0,0,Math.PI*2);ctx.fillStyle=gl;ctx.fill();}
    ctx.restore();
  }
  function draw(){
    const W=canvas.width,H=canvas.height;
    ctx.clearRect(0,0,W,H);
    const bg=ctx.createLinearGradient(0,0,0,H);bg.addColorStop(0,'#020408');bg.addColorStop(.6,'#040810');bg.addColorStop(1,'#080412');ctx.fillStyle=bg;ctx.fillRect(0,0,W,H);
    const n1=ctx.createRadialGradient(W*.2,H*.3,0,W*.2,H*.3,W*.3);n1.addColorStop(0,'rgba(100,40,180,.06)');n1.addColorStop(1,'transparent');ctx.fillStyle=n1;ctx.fillRect(0,0,W,H);
    const n2=ctx.createRadialGradient(W*.75,H*.2,0,W*.75,H*.2,W*.25);n2.addColorStop(0,'rgba(255,80,20,.07)');n2.addColorStop(1,'transparent');ctx.fillStyle=n2;ctx.fillRect(0,0,W,H);
    stars.forEach(s=>{s.tw+=s.spd;const a=.3+Math.abs(Math.sin(s.tw))*.7;ctx.beginPath();ctx.arc(s.x*W,s.y*H,s.r,0,Math.PI*2);ctx.fillStyle=`rgba(255,240,220,${a})`;ctx.fill();});
    const mx=moon.x*W,my=moon.y*H,mr=moon.r;
    const mg=ctx.createRadialGradient(mx-mr*.3,my-mr*.3,mr*.1,mx,my,mr);mg.addColorStop(0,'#e8e0d0');mg.addColorStop(.6,'#c0b8a8');mg.addColorStop(1,'#908880');
    ctx.beginPath();ctx.arc(mx,my,mr,0,Math.PI*2);ctx.fillStyle=mg;ctx.fill();
    [[.3,-.2,12],[-.2,.3,8],[.5,.3,6],[-.4,-.1,15],[.1,.5,5]].forEach(([dx,dy,cr])=>{ctx.beginPath();ctx.arc(mx+dx*mr,my+dy*mr,cr,0,Math.PI*2);ctx.fillStyle='rgba(120,110,100,.35)';ctx.fill();});
    const gY=H*.88;
    const gg=ctx.createLinearGradient(0,gY,0,H);gg.addColorStop(0,'#1a1008');gg.addColorStop(.3,'#120c06');gg.addColorStop(1,'#080402');
    ctx.fillStyle=gg;ctx.beginPath();ctx.moveTo(0,gY);let gx=0;
    while(gx<W){gx+=18+Math.random()*30;ctx.lineTo(gx,gY+(Math.random()*8-2));}
    ctx.lineTo(W,H);ctx.lineTo(0,H);ctx.fill();
    const rg=ctx.createLinearGradient(0,gY-2,0,gY+8);rg.addColorStop(0,'rgba(255,150,50,.15)');rg.addColorStop(1,'transparent');ctx.fillStyle=rg;ctx.fillRect(0,gY-2,W,10);
    pads.forEach(pad=>{
      const px=pad.x*W;
      ctx.fillStyle='#303840';ctx.fillRect(px-22,gY-3,44,5);
      [-18,-6,6,18].forEach(off=>{ctx.beginPath();ctx.arc(px+off,gY-1,2,0,Math.PI*2);ctx.fillStyle=`rgba(255,200,50,${.4+Math.sin(Date.now()*.003+off)*.3})`;ctx.fill();});
      ctx.fillStyle='rgba(255,180,80,.5)';ctx.font='9px monospace';ctx.textAlign='center';ctx.fillText(pad.label,px,gY+16);
    });
    rockets.forEach(r=>drawRocket(r,W,H));
    const hz=ctx.createLinearGradient(0,gY-60,0,gY);hz.addColorStop(0,'transparent');hz.addColorStop(1,'rgba(255,80,20,.08)');ctx.fillStyle=hz;ctx.fillRect(0,gY-60,W,60);
    requestAnimationFrame(draw);
  }
  draw();
}

// ‚ïê‚ïê‚ïê INIT ‚ïê‚ïê‚ïê
initParticles();
animateLanding();
initSpaceArena();
</script>
</body>
</html>
